'use strict';

var Explosions = {

	full: function fullExplosion(universe, location) {
		var velocity = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Vector.zero;

		// Smoke
		Explosions.single(universe, location, {
			velocity: velocity.times(0.1),
			violence: 200,
			lifetime: 5000,
			destroyOnImpact: false,
			debrisRadius: 50,
			debrisCount: 70,
			maxOpacity: 0.25,
			baseColour: '64, 64, 64',
			globalCompositeOperation: 'source-over'
		});
		// Fireball
		Explosions.single(universe, location, {
			velocity: velocity.times(0.5),
			violence: 450,
			lifetime: 1500,
			debrisCount: 100,
			debrisRadius: 30,
			destroyOnImpact: false
		});
		// Glowing embers
		Explosions.single(universe, location, {
			velocity: velocity.times(0.5),
			violence: 350,
			destroyOnImpact: false,
			debrisCount: 50,
			lifetime: 2000,
			debrisRadius: 3,
			baseColour: '255, 255, 255',
			smooth: false
		});
	},

	single: function explode(universe, position, _ref) {
		var velocity = _ref.velocity,
		    violence = _ref.violence,
		    debrisRadius = _ref.debrisRadius,
		    destroyOnImpact = _ref.destroyOnImpact,
		    lifetime = _ref.lifetime,
		    debrisCount = _ref.debrisCount,
		    maxOpacity = _ref.maxOpacity,
		    globalCompositeOperation = _ref.globalCompositeOperation,
		    baseColour = _ref.baseColour,
		    smooth = _ref.smooth,
		    colourModel = _ref.colourModel;


		if (!velocity) velocity = Vector.zero;
		if (!violence) violence = 100;
		if (!debrisCount) debrisCount = 1000;
		if (!debrisRadius) debrisRadius = 20;
		if (destroyOnImpact === undefined) destroyOnImpact = true;
		if (!lifetime) lifetime = 1000;
		if (!globalCompositeOperation) globalCompositeOperation = 'screen';
		if (!baseColour) baseColour = '128, 16, 0';
		if (!maxOpacity) maxOpacity = 1;
		if (smooth === undefined) smooth = true;
		if (!colourModel) colourModel = 'rgb';

		var startTime = universe.timestream.t;

		var _loop = function _loop(i) {
			var r = Math.random() * violence,
			    theta = Math.random() * Math.PI * 2,
			    particle = universe.addParticle(position, Vector.fromAngle(theta).times(r).plus(velocity), debrisRadius, {
				checkCollisions: destroyOnImpact,
				globalCompositeOperation: globalCompositeOperation,
				disposable: true,
				colour: colourModel + '(' + baseColour + ')'
			});

			particle.on('before-draw', function (e) {
				if (particle.age > lifetime) particle.destroy();
				particle.globalAlpha = (lifetime + startTime - universe.timestream.t) * maxOpacity / lifetime;
				if (smooth) {
					var gradient = e.ctx.createRadialGradient(particle.location.x, particle.location.y, debrisRadius, particle.location.x, particle.location.y, 0);
					gradient.addColorStop(0, colourModel + 'a(' + baseColour + ', 0)');
					gradient.addColorStop(1, colourModel + 'a(' + baseColour + ', 1)');
					particle.colour = gradient;
				}
			});

			if (destroyOnImpact) particle.on('impact', function (collision) {
				return particle.destroy();
			});
			universe.timestream.setTimeout(function () {
				return particle.destroy();
			}, lifetime);
		};

		for (var i = 0; i < debrisCount; ++i) {
			_loop(i);
		}
	}

};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2V4cGxvc2lvbi5qcyJdLCJuYW1lcyI6WyJFeHBsb3Npb25zIiwiZnVsbCIsImZ1bGxFeHBsb3Npb24iLCJ1bml2ZXJzZSIsImxvY2F0aW9uIiwidmVsb2NpdHkiLCJWZWN0b3IiLCJ6ZXJvIiwic2luZ2xlIiwidGltZXMiLCJ2aW9sZW5jZSIsImxpZmV0aW1lIiwiZGVzdHJveU9uSW1wYWN0IiwiZGVicmlzUmFkaXVzIiwiZGVicmlzQ291bnQiLCJtYXhPcGFjaXR5IiwiYmFzZUNvbG91ciIsImdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiIsInNtb290aCIsImV4cGxvZGUiLCJwb3NpdGlvbiIsImNvbG91ck1vZGVsIiwidW5kZWZpbmVkIiwic3RhcnRUaW1lIiwidGltZXN0cmVhbSIsInQiLCJpIiwiciIsIk1hdGgiLCJyYW5kb20iLCJ0aGV0YSIsIlBJIiwicGFydGljbGUiLCJhZGRQYXJ0aWNsZSIsImZyb21BbmdsZSIsInBsdXMiLCJjaGVja0NvbGxpc2lvbnMiLCJkaXNwb3NhYmxlIiwiY29sb3VyIiwib24iLCJhZ2UiLCJkZXN0cm95IiwiZ2xvYmFsQWxwaGEiLCJncmFkaWVudCIsImUiLCJjdHgiLCJjcmVhdGVSYWRpYWxHcmFkaWVudCIsIngiLCJ5IiwiYWRkQ29sb3JTdG9wIiwic2V0VGltZW91dCJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNQSxhQUFhOztBQUVsQkMsT0FBTSxTQUFTQyxhQUFULENBQ0hDLFFBREcsRUFDT0MsUUFEUCxFQUN5QztBQUFBLE1BQXhCQyxRQUF3Qix1RUFBYkMsT0FBT0MsSUFBTTs7QUFDOUM7QUFDQVAsYUFBV1EsTUFBWCxDQUFrQkwsUUFBbEIsRUFBNEJDLFFBQTVCLEVBQ0M7QUFDQ0MsYUFBVUEsU0FBU0ksS0FBVCxDQUFlLEdBQWYsQ0FEWDtBQUVDQyxhQUFVLEdBRlg7QUFHQ0MsYUFBVSxJQUhYO0FBSUNDLG9CQUFpQixLQUpsQjtBQUtDQyxpQkFBYyxFQUxmO0FBTUNDLGdCQUFhLEVBTmQ7QUFPQ0Ms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QVdZLFNBQVgsR0FBdUJwQixTQUFTcUIsVUFBVCxDQUFvQkMsQ0FBNUMsSUFDR1YsVUFESCxHQUNnQkosUUFGakI7QUFHQSxRQUFJTyxNQUFKLEVBQVk7QUFDWCxTQUFNeUIsV0FBV0MsRUFBRUMsR0FBRixDQUFNQyxvQkFBTixDQUNoQmQsU0FBUzVCLFFBQVQsQ0FBa0IyQyxDQURGLEVBQ0tmLFNBQVM1QixRQUFULENBQWtCNEMsQ0FEdkIsRUFDMEJuQyxZQUQxQixFQUVoQm1CLFNBQVM1QixRQUFULENBQWtCMkMsQ0FGRixFQUVLZixTQUFTNUIsUUFBVCxDQUFrQjRDLENBRnZCLEVBRTBCLENBRjFCLENBQWpCO0FBR0FMLGNBQVNNLFlBQVQsQ0FBc0IsQ0FBdEIsRUFBeUI1QixjQUFjLElBQWQsR0FBcUJMLFVBQXJCLEdBQWtDLE1BQTNEO0FBQ0EyQixjQUFTTSxZQUFULENBQXNCLENBQXRCLEVBQXlCNUIsY0FBYyxJQUFkLEdBQXFCTCxVQUFyQixHQUFrQyxNQUEzRDtBQUNBZ0IsY0FBU00sTUFBVCxHQUFrQkssUUFBbEI7QUFDQTtBQUNELElBZEQ7O0FBZ0JBLE9BQUkvQixlQUFKLEVBQ0NvQixTQUFTTyxFQUFULENBQVksUUFBWixFQUFzQjtBQUFBLFdBQ3JCUCxTQUFTUyxPQUFULEVBRHFCO0FBQUEsSUFBdEI7QUFFRHRDLFlBQVNxQixVQUFULENBQW9CMEIsVUFBcEIsQ0FBK0I7QUFBQSxXQUM5QmxCLFNBQVNTLE9BQVQsRUFEOEI7QUFBQSxJQUEvQixFQUVDOUIsUUFGRDtBQXBEQzs7QUFpQkYsT0FBSyxJQUFJZSxJQUFJLENBQWIsRUFBZ0JBLElBQUlaLFdBQXBCLEVBQWlDLEVBQUVZLENBQW5DLEVBQXNDO0FBQUEsU0FBN0JBLENBQTZCO0FBc0NyQztBQUNEOztBQTdHaUIsQ0FBbkIiLCJmaWxlIjoiZXhwbG9zaW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgRXhwbG9zaW9ucyA9IHtcblxuXHRmdWxsOiBmdW5jdGlvbiBmdWxsRXhwbG9zaW9uKFxuXHRcdFx0XHR1bml2ZXJzZSwgbG9jYXRpb24sIHZlbG9jaXR5ID0gVmVjdG9yLnplcm8pIHtcblx0XHQvLyBTbW9rZVxuXHRcdEV4cGxvc2lvbnMuc2luZ2xlKHVuaXZlcnNlLCBsb2NhdGlvbixcblx0XHRcdHtcblx0XHRcdFx0dmVsb2NpdHk6IHZlbG9jaXR5LnRpbWVzKDAuMSksXG5cdFx0XHRcdHZpb2xlbmNlOiAyMDAsXG5cdFx0XHRcdGxpZmV0aW1lOiA1MDAwLFxuXHRcdFx0XHRkZXN0cm95T25JbXBhY3Q6IGZhbHNlLFxuXHRcdFx0XHRkZWJyaXNSYWRpdXM6IDUwLFxuXHRcdFx0XHRkZWJyaXNDb3VudDogNzAsXG5cdFx0XHRcdG1heE9wYWNpdHk6IDAuMjUsXG5cdFx0XHRcdGJhc2VDb2xvdXI6ICc2NCwgNjQsIDY0Jyxcblx0XHRcdFx0Z2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uOiAnc291cmNlLW92ZXInXG5cdFx0XHR9KTtcblx0XHQvLyBGaXJlYmFsbFxuXHRcdEV4cGxvc2lvbnMuc2luZ2xlKHVuaXZlcnNlLCBsb2NhdGlvbixcblx0XHRcdHtcblx0XHRcdFx0dmVsb2NpdHk6IHZlbG9jaXR5LnRpbWVzKDAuNSksXG5cdFx0XHRcdHZpb2xlbmNlOiA0NTAsXG5cdFx0XHRcdGxpZmV0aW1lOiAxNTAwLFxuXHRcdFx0XHRkZWJyaXNDb3VudDogMTAwLFxuXHRcdFx0XHRkZWJyaXNSYWRpdXM6IDMwLFxuXHRcdFx0XHRkZXN0cm95T25JbXBhY3Q6IGZhbHNlXG5cdFx0XHR9KTtcblx0XHQvLyBHbG93aW5nIGVtYmVyc1xuXHRcdEV4cGxvc2lvbnMuc2luZ2xlKHVuaXZlcnNlLCBsb2NhdGlvbixcblx0XHRcdHtcblx0XHRcdFx0dmVsb2NpdHk6IHZlbG9jaXR5LnRpbWVzKDAuNSksXG5cdFx0XHRcdHZpb2xlbmNlOiAzNTAsXG5cdFx0XHRcdGRlc3Ryb3lPbkltcGFjdDogZmFsc2UsXG5cdFx0XHRcdGRlYnJpc0NvdW50OiA1MCxcblx0XHRcdFx0bGlmZXRpbWU6IDIwMDAsXG5cdFx0XHRcdGRlYnJpc1JhZGl1czogMyxcblx0XHRcdFx0YmFzZUNvbG91cjogJzI1NSwgMjU1LCAyNTUnLFxuXHRcdFx0XHRzbW9vdGg6IGZhbHNlXG5cdFx0XHR9KTtcblx0fSxcblxuXHRzaW5nbGU6IGZ1bmN0aW9uIGV4cGxvZGUodW5pdmVyc2UsIHBvc2l0aW9uLCB7XG5cdFx0dmVsb2NpdHksXG5cdFx0dmlvbGVuY2UsXG5cdFx0ZGVicmlzUmFkaXVzLFxuXHRcdGRlc3Ryb3lPbkltcGFjdCxcblx0XHRsaWZldGltZSxcblx0XHRkZWJyaXNDb3VudCxcblx0XHRtYXhPcGFjaXR5LFxuXHRcdGdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbixcblx0XHRiYXNlQ29sb3VyLFxuXHRcdHNtb290aCxcblx0XHRjb2xvdXJNb2RlbFxuXHR9KSB7XG5cblx0XHRpZiAoIXZlbG9jaXR5KSB2ZWxvY2l0eSA9IFZlY3Rvci56ZXJvO1xuXHRcdGlmICghdmlvbGVuY2UpIHZpb2xlbmNlID0gMTAwO1xuXHRcdGlmICghZGVicmlzQ291bnQpIGRlYnJpc0NvdW50ID0gMTAwMDtcblx0XHRpZiAoIWRlYnJpc1JhZGl1cykgZGVicmlzUmFkaXVzID0gMjA7XG5cdFx0aWYgKGRlc3Ryb3lPbkltcGFjdCA9PT0gdW5kZWZpbmVkKSBkZXN0cm95T25JbXBhY3QgPSB0cnVlO1xuXHRcdGlmICghbGlmZXRpbWUpIGxpZmV0aW1lID0gMTAwMDtcblx0XHRpZiAoIWdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbilcblx0XHRcdGdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdzY3JlZW4nO1xuXHRcdGlmICghYmFzZUNvbG91cikgYmFzZUNvbG91ciA9ICcxMjgsIDE2LCAwJztcblx0XHRpZiAoIW1heE9wYWNpdHkpIG1heE9wYWNpdHkgPSAxO1xuXHRcdGlmIChzbW9vdGggPT09IHVuZGVmaW5lZCkgc21vb3RoID0gdHJ1ZTtcblx0XHRpZiAoIWNvbG91ck1vZGVsKSBjb2xvdXJNb2RlbCA9ICdyZ2InO1xuXG5cdFx0Y29uc3Qgc3RhcnRUaW1lID0gdW5pdmVyc2UudGltZXN0cmVhbS50O1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBkZWJyaXNDb3VudDsgKytpKSB7XG5cdFx0XHRjb25zdCByID0gTWF0aC5yYW5kb20oKSAqIHZpb2xlbmNlLFxuXHRcdFx0XHR0aGV0YSA9IE1hdGgucmFuZG9tKCkgKiBNYXRoLlBJICogMixcblx0XHRcdFx0cGFydGljbGUgPSB1bml2ZXJzZS5hZGRQYXJ0aWNsZShcblx0XHRcdFx0XHRwb3NpdGlvbixcblx0XHRcdFx0XHRWZWN0b3IuZnJvbUFuZ2xlKHRoZXRhKVxuXHRcdFx0XHRcdFx0LnRpbWVzKHIpXG5cdFx0XHRcdFx0XHQucGx1cyh2ZWxvY2l0eSksXG5cdFx0XHRcdFx0ZGVicmlzUmFkaXVzLFxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGNoZWNrQ29sbGlzaW9uczogZGVzdHJveU9uSW1wYWN0LFxuXHRcdFx0XHRcdFx0Z2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uLFxuXHRcdFx0XHRcdFx0ZGlzcG9zYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRcdGNvbG91cjogY29sb3VyTW9kZWwgKyAnKCcgKyBiYXNlQ29sb3VyICsgJyknXG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdHBhcnRpY2xlLm9uKCdiZWZvcmUtZHJhdycsIGUgPT4ge1xuXHRcdFx0XHRpZiAocGFydGljbGUuYWdlID4gbGlmZXRpbWUpXG5cdFx0XHRcdFx0cGFydGljbGUuZGVzdHJveSgpO1xuXHRcdFx0XHRwYXJ0aWNsZS5nbG9iYWxBbHBoYSA9XG5cdFx0XHRcdFx0KGxpZmV0aW1lICsgc3RhcnRUaW1lIC0gdW5pdmVyc2UudGltZXN0cmVhbS50KVxuXHRcdFx0XHRcdFx0KiBtYXhPcGFjaXR5IC8gbGlmZXRpbWU7XG5cdFx0XHRcdGlmIChzbW9vdGgpIHtcblx0XHRcdFx0XHRjb25zdCBncmFkaWVudCA9IGUuY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KFxuXHRcdFx0XHRcdFx0cGFydGljbGUubG9jYXRpb24ueCwgcGFydGljbGUubG9jYXRpb24ueSwgZGVicmlzUmFkaXVzLFxuXHRcdFx0XHRcdFx0cGFydGljbGUubG9jYXRpb24ueCwgcGFydGljbGUubG9jYXRpb24ueSwgMCk7XG5cdFx0XHRcdFx0Z3JhZGllbnQuYWRkQ29sb3JTdG9wKDAsIGNvbG91ck1vZGVsICsgJ2EoJyArIGJhc2VDb2xvdXIgKyAnLCAwKScpO1xuXHRcdFx0XHRcdGdyYWRpZW50LmFkZENvbG9yU3RvcCgxLCBjb2xvdXJNb2RlbCArICdhKCcgKyBiYXNlQ29sb3VyICsgJywgMSknKTtcblx0XHRcdFx0XHRwYXJ0aWNsZS5jb2xvdXIgPSBncmFkaWVudDtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdGlmIChkZXN0cm95T25JbXBhY3QpXG5cdFx0XHRcdHBhcnRpY2xlLm9uKCdpbXBhY3QnLCBjb2xsaXNpb24gPT5cblx0XHRcdFx0XHRwYXJ0aWNsZS5kZXN0cm95KCkpO1xuXHRcdFx0dW5pdmVyc2UudGltZXN0cmVhbS5zZXRUaW1lb3V0KCgpID0+XG5cdFx0XHRcdHBhcnRpY2xlLmRlc3Ryb3koKSxcblx0XHRcdFx0bGlmZXRpbWUpO1xuXHRcdH1cblx0fVxuXG5cbn07XG4iXX0=